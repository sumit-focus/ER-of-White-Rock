---
const { data } = Astro.props;

const neighborhoods = [
    "East Dallas",
    "Lakewood",
    "Casa Linda",
    "Little Forest Hills",
    "Forest Hills",
    "Lake Highlands",
    "White Rock Valley",
    "Old Lake Highlands",
    "Mount Auburn",
];

const sectionTitle =
    data?.sectionTitle ||
    "Proudly Serving White Rock & Surrounding Neighborhoods";

// Location data for map integration
const location = {
    name: "ER of White Rock",
    address: "10705 Northwest Hwy",
    city: "Dallas, TX 75238",
};
---

<section id="serving-areas" class="py-24 bg-background-subtle">
    <div class="max-w-[1440px] mx-auto px-6 lg:px-12">
        <!-- Section Header -->
        <div class="max-w-3xl mx-auto text-center mb-16">
            <h2
                class="text-accent text-sm font-bold tracking-widest uppercase mb-3"
            >
                Community First
            </h2>
            <h3
                class="text-4xl md:text-5xl font-bold text-text-main tracking-tight"
            >
                {sectionTitle}
            </h3>
        </div>

        <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-20">
            <!-- Content Side -->
            <div class="lg:w-1/2">
                <p class="text-text-muted text-lg mb-8 leading-relaxed">
                    Our facility is strategically located to provide rapid,
                    high-quality emergency medical care to the residents of East
                    Dallas and the beautiful White Rock Lake community. We are
                    honored to be your local emergency medical provider.
                </p>
                <div class="grid grid-cols-2 gap-y-4 gap-x-8">
                    {
                        neighborhoods.map((area) => (
                            <div class="flex items-center gap-3 group">
                                <span class="material-symbols-outlined text-accent text-2xl group-hover:scale-110 transition-transform">
                                    check_circle
                                </span>
                                <span class="text-text-main font-semibold text-lg">
                                    {area}
                                </span>
                            </div>
                        ))
                    }
                </div>

                <!-- CTA buttons for location context -->
                <div class="flex flex-col sm:flex-row gap-4 mt-10">
                    <a
                        href={`https://maps.google.com/?q=${encodeURIComponent(location.address + ", " + location.city)}`}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="flex-1 bg-primary text-white py-4 rounded-xl font-bold hover:bg-secondary transition-all text-center shadow-lg shadow-primary/10 flex items-center justify-center gap-2"
                    >
                        <span class="material-symbols-outlined">directions</span
                        >
                        Get Directions
                    </a>
                    <a
                        href="tel:5550123456"
                        class="flex-1 bg-white border-2 border-primary/10 text-text-main py-4 rounded-xl font-bold hover:border-primary/30 hover:bg-gray-50 transition-all text-center flex items-center justify-center gap-2"
                    >
                        <span class="material-symbols-outlined">call</span>
                        Call Office
                    </a>
                </div>
            </div>

            <!-- Map Side -->
            <div class="lg:w-1/2 w-full relative group">
                <!-- Decorative background elements -->
                <div
                    class="absolute -inset-4 bg-primary/10 rounded-[40px] blur-3xl opacity-50 group-hover:opacity-70 transition-opacity"
                >
                </div>

                <div
                    class="relative rounded-[40px] overflow-hidden shadow-2xl border-8 border-white aspect-[4/3] lg:aspect-auto lg:h-[500px]"
                >
                    <iframe
                        width="100%"
                        height="100%"
                        frameborder="0"
                        scrolling="no"
                        marginheight="0"
                        marginwidth="0"
                        src={`https://maps.google.com/maps?q=${encodeURIComponent(location.address + ", " + location.city)}&t=&z=15&ie=UTF8&iwloc=&output=embed`}
                        class="grayscale-[0.2] opacity-90 transition-all duration-500 group-hover:grayscale-0 group-hover:opacity-100"
                    ></iframe>

                    <!-- Small overlay card -->
                    <div
                        class="absolute bottom-6 left-6 right-6 bg-white/95 backdrop-blur-sm p-4 rounded-2xl shadow-xl flex items-center justify-between pointer-events-none transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500"
                    >
                        <div>
                            <p class="font-bold text-text-main">
                                {location.name}
                            </p>
                            <p class="text-sm text-text-muted">
                                {location.address}
                            </p>
                        </div>
                        <div class="bg-accent/10 text-accent p-2 rounded-lg">
                            <span class="material-symbols-outlined"
                                >location_on</span
                            >
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
