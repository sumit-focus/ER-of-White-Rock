---
import { urlFor } from "../../lib/sanity";

const { data } = Astro.props;

if (!data) return null;

const {
    headline,
    headlineHighlight,
    subtitle,
    backgroundImage,
    ctaText,
    ctaLink,
    secondaryCtaText,
    secondaryCtaLink,
} = data;
---

<section
    class="relative w-full min-h-[85vh] flex items-center bg-white overflow-hidden py-20 lg:py-0"
>
    <!-- Background Elements -->
    <div
        class="absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none"
    >
        <div
            class="absolute top-[-10%] right-[-5%] w-[500px] h-[500px] rounded-full bg-accent/5 blur-3xl"
        >
        </div>
        <div
            class="absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] rounded-full bg-primary/5 blur-3xl"
        >
        </div>
    </div>

    <div class="max-w-[1440px] mx-auto px-6 lg:px-12 w-full relative z-10">
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
            <!-- Left Column: Content -->
            <div class="flex flex-col gap-8 order-2 lg:order-1">
                <!-- Badge -->
                <div
                    class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent/5 border border-accent/20 w-fit backdrop-blur-sm"
                >
                    <span class="relative flex h-2.5 w-2.5">
                        <span
                            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75"
                        ></span>
                        <span
                            class="relative inline-flex rounded-full h-2.5 w-2.5 bg-accent"
                        ></span>
                    </span>
                    <span
                        class="text-xs font-bold text-accent tracking-wide uppercase"
                    >
                        Open 24/7 - Walk-ins Welcome
                    </span>
                </div>

                <!-- Title -->
                <h1
                    class="text-primary text-4xl sm:text-5xl lg:text-6xl font-black leading-[1.1] tracking-tight"
                >
                    {headline}<br />
                    <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-accent to-red-600"
                    >
                        {headlineHighlight}
                    </span>
                </h1>

                <!-- Subtitle -->
                {
                    subtitle && (
                        <p class="text-text-muted text-lg lg:text-xl leading-relaxed max-w-xl">
                            {subtitle}
                        </p>
                    )
                }

                <!-- CTA Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 mt-2">
                    {
                        ctaLink && ctaText && (
                            <a
                                href={ctaLink}
                                class="flex items-center justify-center h-14 px-8 rounded-full bg-accent text-white text-base font-bold shadow-lg shadow-accent/25 hover:bg-accent-hover hover:shadow-xl transition-all transform hover:-translate-y-0.5"
                            >
                                <span class="material-symbols-outlined mr-2 text-[1.25rem]">
                                    directions
                                </span>
                                {ctaText}
                            </a>
                        )
                    }

                    <a
                        href="#services"
                        class="flex items-center justify-center h-14 px-8 rounded-full bg-white text-primary border-2 border-primary/10 text-base font-bold hover:border-primary hover:bg-primary/5 transition-all"
                    >
                        <span
                            class="material-symbols-outlined mr-2 text-[1.25rem]"
                        >
                            medical_services
                        </span>
                        Our Services
                    </a>
                </div>

                <!-- Trust Indicators -->
                <div
                    class="flex items-center gap-6 mt-4 opacity-80 grayscale hover:grayscale-0 transition-all duration-500"
                >
                    <img
                        src="/images/google-reviews.png"
                        alt="Google Reviews"
                        class="h-8 object-contain"
                        onError="this.style.display='none'"
                    />
                    <div class="h-4 w-px bg-gray-300"></div>
                    <span
                        class="text-sm font-semibold text-text-muted flex items-center gap-1"
                    >
                        <span class="material-symbols-outlined text-yellow-400"
                            >star</span
                        >
                        4.9/5 Rating
                    </span>
                </div>
            </div>

            <!-- Right Column: Image Box -->
            <div class="order-1 lg:order-2 relative">
                <div
                    class="relative rounded-[2.5rem] overflow-hidden shadow-2xl shadow-primary/10 border-4 border-white z-10 rotate-1 hover:rotate-0 transition-transform duration-500"
                >
                    {
                        backgroundImage ? (
                            <img
                                src={urlFor(backgroundImage)
                                    .width(800)
                                    .height(900)
                                    .url()}
                                alt={headline || "ER of White Rock"}
                                class="w-full h-[500px] lg:h-[650px] object-cover"
                            />
                        ) : (
                            <div class="w-full h-[500px] lg:h-[650px] bg-gray-100 flex items-center justify-center text-text-muted">
                                <span class="material-symbols-outlined text-6xl">
                                    image
                                </span>
                            </div>
                        )
                    }

                    <!-- Floating Overlay Card -->
                    <div
                        class="absolute bottom-8 left-8 right-8 bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-lg border border-white/50"
                    >
                        <div class="flex items-start gap-4">
                            <div
                                class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center shrink-0"
                            >
                                <span
                                    class="material-symbols-outlined text-green-600"
                                    >timer_off</span
                                >
                            </div>
                            <div>
                                <h3 class="font-bold text-text-main">
                                    No Wait Time
                                </h3>
                                <p class="text-sm text-text-muted mt-1">
                                    Unlike hospital ERs, see a doctor
                                    immediately upon arrival.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Decorative Elements behind image -->
                <div
                    class="absolute -top-4 -right-4 w-full h-full rounded-[2.5rem] border-2 border-primary/10 z-0 rotate-1"
                >
                </div>
            </div>
        </div>
    </div>
</section>
